# 동반 객체

단순히 설명하면 클래스의 인스턴스 생성 없이 사용할 수 있는 객체

자바의 `static` 과 유사하다.

코틀린에서는 `static` 키워드를 지원하지 않아 동반 객체 `companion object` 로 대체한다.

동반 객체로 생성된 안에 필드와 메서드를 선언시 자바의 `static` 처럼 언제든지 접근 가능한 멤버처럼 선언할 수 있다.

제한사항으로는 클래스 내에 하나만 선언할 수 있다.

---

### 팩토리 메소드

**생성자를 통한 객체생성이 아닌 메소드로 객체를 생성하는 패턴**

객체 생성부분을 서브 클래스로 위임하는 패턴 - 객체를 생성하는 공장을 만드는 패턴

### 팩토리 패턴 사용 이유

**클래스간 결합도를 낮추기 위해서** 객체 생성을 서브 클래스에서 위임하여 직접 객체를 생성하는 것을 방지할 수 있다

---

### 동반객체의 팩토리 메서드

코틀린에서는 **동반 객체를 통해 팩토리 메서드를 구현할 수 있음**

동반 객체 안에 생성자를 호출하는 팩토리 메서드를 정의할 수 있음.

이때, `private` 인 생성자까지 호출할 수 있다.

동반 객체를 통해 최상위, 패키지 수준 함수, 객체 선언을 하는 것이기 때문에

자바에서 멤버에 `static` 키워드를 붙였을 때처럼.

**다만 동반 객체의 내용은 오버라이드 불가능하여, 해당 클래스의 상속이 필요한 경우 생성자를 정의해야 한다.**

---

### 프래그먼트에서의 동반 객체

프래그먼트 `Fragment` 를 생성하면 자동으로 동반 객체 컴포넌트가 생성된다.

프래그먼트는 특수한 제약으로 인해 팩토리 메소드를 통해 인스턴스를 생성해야 한다.